---
title: GloryAjax
description: Utilidad AJAX centralizada del framework Glory (cliente y buenas prácticas)
---

## ¿Qué es `gloryAjax`?

`gloryAjax` es la utilidad recomendada para todas las llamadas AJAX en Glory. Maneja automáticamente JSON, archivos y errores.

## Uso básico

**Uso mínimo** - Petición simple:
```javascript
const resp = await gloryAjax('mi_accion', { id: 123 });
if (resp.success) {
    console.log(resp.data);
}
```

**Uso avanzado** - Con archivos:
```javascript
const form = new FormData();
form.append('archivo', input.files[0]);
form.append('datos', 'valor');

const resp = await gloryAjax('subir_archivo', form);
if (resp.success && resp.blob) {
    // Manejar descarga de archivo
}
```

## Handler en servidor

```php
add_action('wp_ajax_mi_accion', 'mi_handler');
function mi_handler() {
    check_ajax_referer('mi_nonce');
    $id = intval($_POST['id']);
    // Procesar...
    wp_send_json_success(['resultado' => 'OK']);
}
```

## Localizar datos

```php
AssetManager::define('script', 'mi-script', '/assets/js/script.js', [
    'localize' => [
        'ajax_params' => [
            'ajax_url' => admin_url('admin-ajax.php'),
            'nonce' => wp_create_nonce('mi_nonce')
        ]
    ]
]);
```

¡Usa `gloryAjax` para todas tus peticiones AJAX!

---
