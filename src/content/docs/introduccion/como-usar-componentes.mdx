---
title: C√≥mo Usar Componentes
description: Gu√≠a pr√°ctica para utilizar los componentes reutilizables de Glory Framework
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

# üß± C√≥mo Usar Componentes de Glory

Glory incluye una colecci√≥n de componentes reutilizables que simplifican tareas comunes de desarrollo web. Estos componentes est√°n dise√±ados para ser agn√≥sticos y se pueden usar tanto en temas como en plugins.

## üé® Componentes de UI (Interfaz de Usuario)

### Sistema de Modales

Los modales permiten mostrar contenido en ventanas emergentes sin recargar la p√°gina.

#### Uso B√°sico

```html
<!-- Bot√≥n que abre el modal -->
<button class="glory-modal-trigger" data-modal="mi-modal">
    Abrir Modal
</button>

<!-- Contenido del modal -->
<div id="mi-modal" class="glory-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>T√≠tulo del Modal</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <p>Contenido del modal aqu√≠...</p>
        </div>
    </div>
</div>
```

#### Modal con Formulario

```php
<?php
// En tu template PHP
?>
<div id="modal-contacto" class="glory-modal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Contactar Vendedor</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <?php
            use Glory\Components\FormBuilder;

            echo FormBuilder::inicio([
                'atributos' => ['id' => 'form-contacto-modal']
            ]);

            echo FormBuilder::campoTexto([
                'nombre' => 'nombre',
                'label' => 'Tu Nombre',
                'requerido' => true
            ]);

            echo FormBuilder::campoEmail([
                'nombre' => 'email',
                'label' => 'Email',
                'requerido' => true
            ]);

            echo FormBuilder::botonEnviar([
                'accion' => 'contactarVendedor',
                'texto' => 'Enviar Mensaje'
            ]);

            echo FormBuilder::fin();
            ?>
        </div>
    </div>
</div>
```

#### Control desde JavaScript

```javascript
// Abrir modal program√°ticamente
document.querySelector('.modal-trigger').addEventListener('click', function() {
    window.gloryModal.open('mi-modal');
});

// Cerrar modal
window.gloryModal.close('mi-modal');

// Con callbacks
window.gloryModal.open('mi-modal', {
    onOpen: function() {
        console.log('Modal abierto');
    },
    onClose: function() {
        console.log('Modal cerrado');
    }
});
```

### Sistema de Alertas

Reemplaza las alertas nativas del navegador por notificaciones elegantes.

```javascript
// Alerta b√°sica
window.gloryAlert.show('Operaci√≥n completada correctamente', 'success');

// Tipos disponibles: 'success', 'error', 'warning', 'info'

// Alerta con opciones
window.gloryAlert.show('¬øEst√°s seguro?', 'warning', {
    confirmText: 'S√≠, continuar',
    cancelText: 'Cancelar',
    onConfirm: function() {
        // Acci√≥n al confirmar
        realizarAccion();
    },
    onCancel: function() {
        // Acci√≥n al cancelar
        console.log('Cancelado');
    }
});
```

### Previsualizaci√≥n de Archivos

Gestiona la subida y previsualizaci√≥n de archivos con drag & drop.

```html
<div class="glory-file-preview" data-max-files="5" data-allowed-types="jpg,png,pdf">
    <div class="preview-zone">
        <p>Arrastra archivos aqu√≠ o <span class="file-link">haz clic para seleccionar</span></p>
        <input type="file" multiple accept=".jpg,.png,.pdf" style="display: none;">
    </div>
    <div class="preview-list"></div>
</div>
```

### Pesta√±as y Submen√∫s

```html
<!-- Pesta√±as -->
<div class="glory-tabs">
    <div class="tabs-header">
        <button class="tab-button active" data-tab="tab1">Informaci√≥n</button>
        <button class="tab-button" data-tab="tab2">Configuraci√≥n</button>
        <button class="tab-button" data-tab="tab3">Avanzado</button>
    </div>
    <div class="tabs-content">
        <div class="tab-pane active" id="tab1">
            <p>Contenido de la primera pesta√±a</p>
        </div>
        <div class="tab-pane" id="tab2">
            <p>Contenido de la segunda pesta√±a</p>
        </div>
        <div class="tab-pane" id="tab3">
            <p>Contenido de la tercera pesta√±a</p>
        </div>
    </div>
</div>
```

## üìã Componentes de Renderizado

### ContentRender - Mostrar Listas de Contenido

Uno de los componentes m√°s poderosos para mostrar posts, p√°ginas o tipos de contenido personalizados.

#### Lista B√°sica de Posts

```php
<?php
use Glory\Components\ContentRender;

// Mostrar los 5 posts m√°s recientes
ContentRender::print('post', [
    'publicacionesPorPagina' => 5,
    'paginacion' => false
]);
?>
```

#### Blog con Paginaci√≥n AJAX

```php
<?php
ContentRender::print('post', [
    'publicacionesPorPagina' => 10,
    'paginacion' => true,
    'paginacionAjax' => true,
    'plantillaCallback' => 'plantillaPostPersonalizada'
]);
?>

<script>
// Funci√≥n de callback para la paginaci√≥n AJAX
function plantillaPostPersonalizada(post) {
    return `
        <article class="post-card">
            <h2>${post.post_title}</h2>
            <div class="post-meta">
                <span>Por ${post.author_name}</span>
                <span>${post.post_date}</span>
            </div>
            <div class="post-excerpt">
                ${post.post_excerpt}
            </div>
            <a href="${post.permalink}">Leer m√°s</a>
        </article>
    `;
}
</script>
```

#### Cat√°logo de Productos

```php
<?php
ContentRender::print('producto', [
    'queryArgs' => [
        'meta_query' => [
            [
                'key' => 'en_stock',
                'value' => '1',
                'compare' => '='
            ]
        ],
        'orderby' => 'meta_value_num',
        'meta_key' => 'precio',
        'order' => 'ASC'
    ],
    'publicacionesPorPagina' => 12,
    'paginacion' => true,
    'plantillaCallback' => 'plantillaProducto'
]);
?>

<script>
function plantillaProducto(producto) {
    return `
        <div class="producto-card">
            <img src="${producto.thumbnail}" alt="${producto.post_title}">
            <h3>${producto.post_title}</h3>
            <p class="precio">${producto.meta.precio}‚Ç¨</p>
            <button onclick="agregarAlCarrito(${producto.ID})">
                A√±adir al carrito
            </button>
        </div>
    `;
}
</script>
```

### TermRender - Mostrar T√©rminos de Taxonom√≠a

```php
<?php
use Glory\Components\TermRender;

// Mostrar todas las categor√≠as
TermRender::print('category', [
    'hide_empty' => false,
    'orderby' => 'count',
    'order' => 'DESC'
]);
?>
```

#### Nube de Etiquetas Personalizada

```php
<?php
TermRender::print('post_tag', [
    'number' => 20,
    'orderby' => 'count',
    'order' => 'DESC',
    'plantillaCallback' => 'plantillaEtiqueta'
]);
?>

<script>
function plantillaEtiqueta(tag) {
    const fontSize = Math.min(8 + tag.count * 2, 24);
    return `<a href="${tag.link}" style="font-size: ${fontSize}px;">${tag.name}</a>`;
}
</script>
```

### BusquedaRenderer - B√∫squeda Predictiva

Implementa b√∫squeda en tiempo real sin necesidad de configuraci√≥n compleja.

```html
<!-- Campo de b√∫squeda b√°sico -->
<input type="text"
       class="glory-search"
       data-tipos="post,page,producto"
       data-cantidad="5"
       data-target="#resultados-busqueda"
       placeholder="Buscar contenido...">

<div id="resultados-busqueda"></div>
```

#### B√∫squeda Avanzada con Filtros

```html
<div class="busqueda-avanzada">
    <input type="text"
           class="glory-search"
           data-tipos="producto"
           data-cantidad="8"
           data-target="#resultados-productos"
           data-filtros='{"categoria": "electronica", "precio_max": 1000}'
           placeholder="Buscar productos...">

    <div class="filtros-activos">
        <span class="filtro" data-filtro="categoria" data-valor="electronica">
            Electr√≥nica ‚úï
        </span>
        <span class="filtro" data-filtro="precio_max" data-valor="1000">
            M√°ximo 1000‚Ç¨ ‚úï
        </span>
    </div>
</div>

<div id="resultados-productos" class="resultados-grid"></div>
```

### LogoRenderer - Mostrar Logo del Sitio

```php
<?php
use Glory\Components\LogoRenderer;

// Logo b√°sico
echo LogoRenderer::render();

// Logo con opciones
echo LogoRenderer::render([
    'width' => '200px',
    'filter' => 'white',
    'link' => true
]);
?>
```

#### Como shortcode en el editor

```
[theme_logo width="150px" filter="black"]
```

## üìù Componentes de Formularios

### FormBuilder - Constructor de Formularios

```php
<?php
use Glory\Components\FormBuilder;

// Inicio del formulario
echo FormBuilder::inicio([
    'atributos' => [
        'id' => 'form-contacto',
        'class' => 'formulario-contacto'
    ]
]);

// Campo de texto
echo FormBuilder::campoTexto([
    'nombre' => 'nombre_completo',
    'label' => 'Nombre Completo',
    'requerido' => true,
    'placeholder' => 'Ingresa tu nombre'
]);

// Campo de email
echo FormBuilder::campoEmail([
    'nombre' => 'email',
    'label' => 'Correo Electr√≥nico',
    'requerido' => true
]);

// Campo de selecci√≥n
echo FormBuilder::campoSelect([
    'nombre' => 'asunto',
    'label' => 'Asunto',
    'opciones' => [
        '' => 'Selecciona un asunto',
        'consulta' => 'Consulta General',
        'soporte' => 'Soporte T√©cnico',
        'ventas' => 'Informaci√≥n de Ventas'
    ],
    'requerido' => true
]);

// Campo de textarea
echo FormBuilder::campoTextarea([
    'nombre' => 'mensaje',
    'label' => 'Mensaje',
    'requerido' => true,
    'filas' => 5
]);

// Campo de checkbox
echo FormBuilder::campoCheckbox([
    'nombre' => 'acepto_terminos',
    'label' => 'Acepto los t√©rminos y condiciones',
    'requerido' => true
]);

// Bot√≥n de env√≠o
echo FormBuilder::botonEnviar([
    'accion' => 'procesarFormularioContacto',
    'texto' => 'Enviar Mensaje',
    'clases' => 'btn btn-primary btn-large'
]);

// Fin del formulario
echo FormBuilder::fin();
?>
```

### Formulario de Registro de Usuario

```php
<?php
echo FormBuilder::inicio([
    'atributos' => ['id' => 'form-registro']
]);

echo FormBuilder::campoTexto([
    'nombre' => 'user_login',
    'label' => 'Nombre de usuario',
    'requerido' => true
]);

echo FormBuilder::campoEmail([
    'nombre' => 'user_email',
    'label' => 'Correo electr√≥nico',
    'requerido' => true
]);

echo FormBuilder::campoPassword([
    'nombre' => 'user_pass',
    'label' => 'Contrase√±a',
    'requerido' => true,
    'minlength' => 8
]);

echo FormBuilder::campoPassword([
    'nombre' => 'user_pass_confirm',
    'label' => 'Confirmar contrase√±a',
    'requerido' => true
]);

echo FormBuilder::botonEnviar([
    'accion' => 'registrarUsuario',
    'texto' => 'Crear cuenta'
]);

echo FormBuilder::fin();
?>
```

## üé® Componentes Visuales

### BadgeList - Lista de Badges

```php
<?php
use Glory\Components\BadgeList;

// Badges b√°sicos
BadgeList::render([
    'etiquetas' => ['Nuevo', 'Destacado', 'Oferta'],
    'tipo' => 'success'
]);

// Badges con enlaces
BadgeList::render([
    'etiquetas' => [
        ['texto' => 'Tecnolog√≠a', 'url' => '/categoria/tecnologia'],
        ['texto' => 'Innovaci√≥n', 'url' => '/categoria/innovacion']
    ],
    'tipo' => 'info'
]);
?>
```

### DataGridRenderer - Tabla de Datos Interactiva

```php
<?php
use Glory\Components\DataGridRenderer;

// Datos de ejemplo
$productos = [
    ['id' => 1, 'nombre' => 'Producto A', 'precio' => 29.99, 'stock' => 150],
    ['id' => 2, 'nombre' => 'Producto B', 'precio' => 49.99, 'stock' => 75],
    // ... m√°s datos
];

DataGridRenderer::render([
    'datos' => $productos,
    'columnas' => [
        'id' => ['titulo' => 'ID', 'ancho' => '80px'],
        'nombre' => ['titulo' => 'Producto', 'ordenable' => true],
        'precio' => ['titulo' => 'Precio', 'tipo' => 'moneda', 'ordenable' => true],
        'stock' => ['titulo' => 'Stock', 'tipo' => 'numero', 'ordenable' => true]
    ],
    'paginacion' => true,
    'busqueda' => true,
    'acciones' => [
        'editar' => ['url' => '/admin/editar-producto/{id}', 'texto' => 'Editar'],
        'eliminar' => ['accion' => 'eliminarProducto', 'texto' => 'Eliminar', 'confirmar' => true]
    ]
]);
?>
```

### PaginationRenderer - Paginaci√≥n Personalizada

```php
<?php
use Glory\Components\PaginationRenderer;

// Para WordPress Query
global $wp_query;
PaginationRenderer::render([
    'total' => $wp_query->found_posts,
    'por_pagina' => $wp_query->query_vars['posts_per_page'],
    'actual' => get_query_var('paged') ?: 1,
    'base_url' => get_pagenum_link(1),
    'estilo' => 'modern', // 'classic', 'modern', 'minimal'
    'mostrar_info' => true
]);
?>
```

### ThemeToggle - Interruptor de Tema Claro/Oscuro

```html
<div class="theme-toggle-container">
    <button id="theme-toggle" aria-label="Cambiar tema">
        <span class="toggle-icon">üåô</span>
        <span class="toggle-text">Tema Oscuro</span>
    </button>
</div>
```

```javascript
// Inicializar el toggle
document.addEventListener('DOMContentLoaded', function() {
    const toggle = document.getElementById('theme-toggle');

    // Funci√≥n para cambiar tema
    function toggleTheme() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);

        // Actualizar icono y texto
        updateToggleButton(newTheme);
    }

    function updateToggleButton(theme) {
        const icon = toggle.querySelector('.toggle-icon');
        const text = toggle.querySelector('.toggle-text');

        if (theme === 'dark') {
            icon.textContent = '‚òÄÔ∏è';
            text.textContent = 'Tema Claro';
        } else {
            icon.textContent = 'üåô';
            text.textContent = 'Tema Oscuro';
        }
    }

    // Cargar tema guardado
    const savedTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', savedTheme);
    updateToggleButton(savedTheme);

    // Event listener
    toggle.addEventListener('click', toggleTheme);
});
```

## üöÄ Navegaci√≥n AJAX

Glory incluye navegaci√≥n AJAX por defecto, convirtiendo tu sitio en una SPA (Single Page Application).

### Configuraci√≥n B√°sica

La navegaci√≥n AJAX se activa autom√°ticamente. Solo necesitas:

```html
<!-- Tu navegaci√≥n normal -->
<nav>
    <a href="/inicio">Inicio</a>
    <a href="/productos">Productos</a>
    <a href="/contacto">Contacto</a>
</nav>

<!-- Contenedor donde se carga el contenido -->
<main id="main-content">
    <!-- El contenido se carga aqu√≠ v√≠a AJAX -->
</main>
```

### Exclusiones de AJAX

Si algunas p√°ginas no deben usar AJAX:

```javascript
// En tu JavaScript personalizado
window.ajaxNavigation = {
    excludePatterns: [
        '/admin',
        '/wp-login',
        '/carrito',
        '/checkout'
    ]
};
```

### Eventos Personalizados

```javascript
document.addEventListener('gloryAjaxNav:loading', function() {
    // Mostrar spinner de carga
    showLoadingSpinner();
});

document.addEventListener('gloryAjaxNav:loaded', function(e) {
    // Ocultar spinner
    hideLoadingSpinner();

    // Actualizar elementos espec√≠ficos
    updateSidebar();
    updateBreadcrumbs();
});

document.addEventListener('gloryAjaxNav:error', function(e) {
    console.error('Error de navegaci√≥n:', e.detail.error);
});
```

## üéØ Mejores Pr√°cticas

### Organizaci√≥n del C√≥digo

1. **Agrupa componentes relacionados** en la misma secci√≥n
2. **Usa IDs √∫nicos** para elementos interactivos
3. **Configura callbacks** para personalizar comportamiento
4. **Valida datos** antes de enviar formularios

### Optimizaci√≥n de Rendimiento

```javascript
// Lazy loading para componentes pesados
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar solo cuando sea necesario
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                initializeHeavyComponent(entry.target);
                observer.unobserve(entry.target);
            }
        });
    });

    document.querySelectorAll('.componente-pesado').forEach(el => {
        observer.observe(el);
    });
});
```

### Accesibilidad

```php
// Asegurar que los componentes sean accesibles
echo FormBuilder::campoTexto([
    'nombre' => 'email',
    'label' => 'Correo electr√≥nico',
    'requerido' => true,
    'atributos' => [
        'aria-describedby' => 'email-help',
        'autocomplete' => 'email'
    ]
]);
echo '<span id="email-help" class="form-help">Usaremos este email solo para contactarte</span>';
```

¬°Estos componentes te permiten construir interfaces complejas de manera r√°pida y consistente! Cada componente est√° dise√±ado para ser flexible y extensible, adapt√°ndose a tus necesidades espec√≠ficas.
